z8350pve.md

# z8350pve raravm
- [How I Set Up Proxmox VE: A Comprehensive Guide to Open-Source Virtualization](https://hostbor.com/proxmox-ve-virtualization/)
- [Set Network to use DHCP](https://weblog.lkiesow.de/20220223-proxmox-test-machine-self-servic/proxmox-server-dhcp.html)
- 




- [工控機安裝Proxmox VE（PVE）](https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/%E5%B7%A5%E6%8E%A7%E6%A9%9F%E5%AE%89%E8%A3%9Dproxmox-ve-pve-94a09647d95f)
- ```
  } elsif ($dev =~ m|^/dev/mmcblk\d+$|) {
    return "${dev}p$partnum";
  ```
- [Install Proxmox VE on eMMC](https://ibug.io/blog/2022/03/install-proxmox-ve-emmc/)
- [Prolonging eMMC Life Span with Proxmox VE](https://ibug.io/blog/2023/07/prolonging-emmc-life-span-with-proxmox-ve/)
- echo deadline >  /sys/block/mmcblk0/queue/scheduler
- vi /etc/systemd/journald.conf
- vi /etc/default/rrdcached
- vi /etc/init.d/rrdcached
- systemctl restart rrdcached.service
- systemctl daemon-reload
- 

# kvm tun
- [Kvm nested in LXC, problem accessing /dev/kvm inside lxc - Debian11](https://discuss.linuxcontainers.org/t/kvm-nested-in-lxc-problem-accessing-dev-kvm-inside-lxc-debian11/13193)
- ```
  lxc.cgroup2.devices.allow: c 10:200 rwm
  lxc.mount.entry: /dev/net/tun dev/net/tun none bind,create=file
  lxc.cgroup2.devices.allow: c 10:232 rwm
  lxc.mount.entry: /dev/kvm dev/kvm none bind,create=file 0 0
  ```
  
# Update Templates list
- ```pveam update```

# zram
- [Zram as SWAP file in Proxmox VE](https://introserv.com/tutorials/zram-as-swap-file-in-proxmox-ve/)
- modprobe zram
- zramctl -s 24G -a zstd /dev/zram0
- mkswap /dev/zram0
- swapon /dev/zram0 -p 10
- 
- echo "zram" > /etc/modules-load.d/zram.conf
- #echo 'KERNEL=="zram0", ATTR { disksize } ="32G" RUN="/sbin/mkswap /dev/zram0", TAG+="systemd"' > /etc/udev/rules.d/99-zram.rules
- #ACTION=="add", KERNEL=="zram0", ATTR{initstate}=="0", ATTR{comp_algorithm}="zstd", ATTR{disksize}="4G", TAG+="systemd"
- echo 'ACTION=="add", KERNEL=="zram0", ATTR{initstate}=="0", ATTR{comp_algorithm}="zstd", ATTR{disksize}="24G", TAG+="systemd"' > /etc/udev/rules.d/99-zram.rules
- #echo "/dev/zram0 none swap defaults,pri=10 0 0" >> /etc/fstab
- echo "/dev/zram0 none swap defaults,discard,pri=100,x-systemd.makefs 0 0" >> /etc/fstab
- 

- [Is it okay to allocate 100% RAM to zRAM?](https://www.reddit.com/r/linuxquestions/comments/1cgh4wy/is_it_okay_to_allocate_100_ram_to_zram/)
- https://pve.proxmox.com/wiki/Zram
- 

# tmux
- [A Quick and Easy Guide to tmux](https://hamvocke.com/blog/a-quick-and-easy-guide-to-tmux/)
- apt update && apt install tmux

# ProxMenux
- https://macrimi.github.io/ProxMenux/docs/introduction

# tailscale
- [Proxmox: Running Tailscale](https://medium.com/@rar1871/proxmox-running-tailscale-7929b3eaa31f)
- ```
  Proxmox host open /etc/pve/lxc/xxx.conf

  Add the following lines:

  lxc.cgroup2.devices.allow: c 10:200 rwm
  lxc.mount.entry: /dev/net dev/net none bind,create=dir
  Save the file and reboot the container in question. There is no need to reboot the Proxmox host.

  Now install and activate Tailscale, just like on a VM:

  apt update && apt install curl
  curl -fsSL https://tailscale.com/install.sh | sh

  tailscale up
  ```
- Connect to Tailscale as a subnet router
- ```
  echo 'net.ipv4.ip_forward = 1' | tee -a /etc/sysctl.d/99-tailscale.conf
  echo 'net.ipv6.conf.all.forwarding = 1' | tee -a /etc/sysctl.d/99-tailscale.conf
  sysctl -p /etc/sysctl.d/99-tailscale.conf
  ```
- ```
  tailscale set --advertise-routes=192.0.2.0/24,198.51.100.0/24
  ```
- Advertise a device as an exit node
- ```
  tailscale set --advertise-exit-node
  tailscale up
  ```
- Alternatively, set --exit-node-allow-lan-access to true to allow direct access to your local network when routing traffic through an exit node.
- ```
  tailscale set --exit-node=<exit-node-ip> --exit-node-allow-lan-access=true
  ```

- [Tailscale in LXC containers](https://tailscale.com/kb/1130/lxc-unprivileged)

# 
- [Proxmox: How to use a USB drive as storage for your containers](https://dev.to/onticdani/proxmox-how-to-mount-a-usb-drive-n36)

# 7zip
- https://operavps.com/docs/install-7zip-in-linux/
- 7z a compressed_file.7z file_to_compress
- 7z a home.7z home/
- 7z a compressed_files.7z file1.txt file2.txt directory1/ directory2/
- 7z x compressed_file.7z
- 7z x compressed_file.7z -o /media/
- Extract Archive in the Currently Active Working Directory
- 7z e example.7z
- 7z l example.7z

# Dockge
- https://community-scripts.github.io/ProxmoxVE/scripts?id=dockge
- [==>](https://github.com/gogonkt/notes/blob/main/MobileProxmoxWorkstation.md#docker-container-x-forwarding)
- docker run --rm -p 8080:8080 -v /share/mt3bar:/mt3bar solarkennedy/wine-x11-novnc-docker
- 

# Docker X forwarding SSH
- [Docker X11 Client Via SSH](https://alanhohn.com/posts/2015/docker-x11-ssh/)
- ```docker run --net=host --env="DISPLAY" --volume="$HOME/.Xauthority:/root/.Xauthority:rw" xeyes ```
- [Running GUI Applications in a Linux Docker Container](https://www.baeldung.com/linux/docker-container-gui-applications)

# Alpine docker LXC
- [Alpine Linux-based LXC with Docker support on a PVE host](https://kingtam.win/archives/alpine-docker.html)
- [How to setup VA-API within Proxmox LXC Unprivileged container](https://gist.github.com/aleksasiriski/820f22fadba72815f3eaf290465611a5)
- [Alpine Linux LXC with Browser and RDP on Proxmox](https://www.filipnet.de/proxmox-lxc-alpine-browser/#)

# WINE
- [Ultimate Guide to Running Windows Apps on Proxmox Debian 12 LXC: Wine, Lutris & Bottles!]
- (https://blog.jackofallgates.com/ultimate-guide-to-running-windows-apps-on-proxmox-debian-12-lxc-wine-lutris-and)

# VMs
- [Install an Alpine Desktop VM](https://homelab.casaursus.net/install-a-alpine-desktop-vm/)
- [I have 1GB disk space, I want swap and boot partition smaller, how do I do it?](https://www.reddit.com/r/AlpineLinux/comments/181myyx/i_have_1gb_disk_space_i_want_swap_and_boot/)
- export BOOT_SIZE=100
- export SWAP_SIZE=0

# NFS
- [Launch a NFS server on Proxmox](https://gist.github.com/soulmachine/6310916333df55d91d59ddaec1e90c4f)

